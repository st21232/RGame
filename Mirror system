-- backbone version of the script
local first = 45
local second = -45
local third = -90
local fourth = 45
local fifth = 90

local p1 = script.Parent.p1
local p2 = script.Parent.p2
local p3 = script.Parent.p3
local p4 = script.Parent.p4
local p5 = script.Parent.p5

local particle1 = script.Parent.Particles.Particle1
local particle2 = script.Parent.Particles.Particle2
local particle3 = script.Parent.Particles.Particle3



script.Parent.Start.ClickDetector.MouseClick:Connect(function()
	if p1.Orientation == Vector3.new(0, first, 0) then
		particle1.Attachment.ParticleEmitter:Emit(15)
		wait(1)
		if p2.Orientation == Vector3.new(0, second, 0) and p3.Orientation == Vector3.new(0, third, 0) then
			particle2.Attachment.ParticleEmitter:Emit(15)
			wait(1)
			if p4.Orientation == Vector3.new(0, fourth, 0) and p5.Orientation == Vector3.new(0, fifth, 0) then
				particle3.Attachment.ParticleEmitter:Emit(15)
				wait(1)
				script.Parent.TouchBlock.BrickColor = BrickColor.new("Sea green")
			else 
				print("Error Wrong oreintation")
			end
		else 
			print("Error Wrong oreintation")
		end
	else 
		print("Error Wrong oreintation")
	end
end)

----
-- This is a seperate script located on the mirror so the first script can detect when it is clicked
local part = script.Parent.Parent

script.Parent.MouseClick:Connect(function()
	part.Orientation = part.Orientation + Vector3.new(0,45,0)
end)
